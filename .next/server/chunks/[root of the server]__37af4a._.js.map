{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///Users/Apple/Documents/Projects/Clients/GCC%20Internal%20Tools/gcg-interview-evaluation/lib/supabase.js"],"sourcesContent":["// lib/supabase.js\nimport { createClient } from \"@supabase/supabase-js\";\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\nconst supabaseKey = process.env.SUPABASE_SERVICE_KEY; // Use service key for server-side\n\nconsole.log(\"Supabase URL:\", supabaseUrl);\nconsole.log(\"Supabase Key:\", supabaseKey);\n\nexport const supabase = createClient(supabaseUrl, supabaseKey);"],"names":[],"mappings":"AAAA,kBAAkB;;;;AAClB;;AAEA,MAAM;AACN,MAAM,cAAc,QAAQ,GAAG,CAAC,oBAAoB,EAAE,kCAAkC;AAExF,QAAQ,GAAG,CAAC,iBAAiB;AAC7B,QAAQ,GAAG,CAAC,iBAAiB;AAEtB,MAAM,WAAW,CAAA,GAAA,iJAAA,CAAA,eAAY,AAAD,EAAE,aAAa"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///Users/Apple/Documents/Projects/Clients/GCC%20Internal%20Tools/gcg-interview-evaluation/utils/dbUtils.js"],"sourcesContent":["// src/utils/dbUtils.js\nimport { supabase } from \"../../lib/supabase\";\n\nexport async function upsertCandidate({ fullName, email, phone, linkedin }) {\n    try {\n        console.log(\"Checking for existing candidate with email:\", email);\n        const { data: existingCandidate, error: fetchError } = await supabase\n            .from(\"candidates\")\n            .select(\"id\")\n            .eq(\"email\", email)\n            .single();\n\n        if (fetchError && fetchError.code !== \"PGRST116\") {\n            console.error(\"Fetch existing candidate error:\", fetchError);\n            return { error: { status: 500, message: \"Error checking existing candidate\", details: fetchError.message } };\n        }\n\n        let userId;\n\n        if (existingCandidate) {\n            console.log(\"Updating existing candidate with email:\", email);\n            const { data: updatedCandidate, error: updateError } = await supabase\n                .from(\"candidates\")\n                .update({ full_name: fullName, phone, linkedin })\n                .eq(\"email\", email)\n                .select()\n                .single();\n\n            if (updateError) {\n                console.error(\"Update candidate error:\", updateError);\n                return { error: { status: 403, message: \"Failed to update candidate\", details: updateError.message } };\n            }\n            userId = updatedCandidate.id;\n            console.log(\"Updated candidate ID:\", userId);\n        } else {\n            console.log(\"Attempting to insert into candidates with data:\", { full_name: fullName, email, phone, linkedin });\n            const { data: newCandidate, error: insertError } = await supabase\n                .from(\"candidates\")\n                .insert([{ full_name: fullName, email, phone, linkedin }])\n                .select()\n                .single();\n\n            if (insertError) {\n                console.error(\"Insert candidate error:\", insertError);\n                return { error: { status: 403, message: \"Failed to insert candidate\", details: insertError.message } };\n            }\n            userId = newCandidate.id;\n            console.log(\"Inserted candidate ID:\", userId);\n        }\n\n        return { userId };\n    } catch (error) {\n        console.error(\"Database operation error:\", error.message);\n        return { error: { status: 500, message: \"Database operation failed\", details: error.message } };\n    }\n}\n\nexport async function upsertResponse({ userId, answers, score, resumeUrl, coverLetterUrl, resumeFileId, coverLetterFileId }) {\n    try {\n        console.log(\"Attempting to upsert response with data:\", {\n            user_id: userId,\n            answers: JSON.stringify(answers),\n            score,\n            resume_url: resumeUrl,\n            cover_letter_url: coverLetterUrl,\n            resume_file_id: resumeFileId,\n            cover_letter_file_id: coverLetterFileId,\n        });\n        const { error } = await supabase\n            .from(\"responses\")\n            .upsert(\n                [\n                    {\n                        user_id: userId,\n                        answers: JSON.stringify(answers),\n                        score,\n                        resume_url: resumeUrl,\n                        cover_letter_url: coverLetterUrl,\n                        resume_file_id: resumeFileId,\n                        cover_letter_file_id: coverLetterFileId,\n                    },\n                ],\n                { onConflict: [\"user_id\"], update: [\"answers\", \"score\", \"resume_url\", \"cover_letter_url\", \"resume_file_id\", \"cover_letter_file_id\"] }\n            );\n\n        if (error) {\n            console.error(\"Response upsert error:\", error);\n            return { error: { status: 403, message: \"Failed to upsert response\", details: error.message } };\n        }\n        return {};\n    } catch (error) {\n        console.error(\"Response upsert error:\", error.message);\n        return { error: { status: 500, message: \"Response upsert failed\", details: error.message } };\n    }\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 183, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 205, "column": 0}, "map": {"version":3,"sources":["file:///Users/Apple/Documents/Projects/Clients/GCC%20Internal%20Tools/gcg-interview-evaluation/utils/driveUtils.js"],"sourcesContent":["// src/utils/driveUtils.js\nimport { google } from \"googleapis\";\nimport { Readable } from \"stream\";\n\nexport async function uploadFileToDrive(userId, fileData, fileType, oldFileId) {\n    try {\n        const serviceAccountCreds = JSON.parse(process.env.GOOGLE_SERVICE_ACCOUNT);\n        const auth = new google.auth.GoogleAuth({\n            credentials: serviceAccountCreds,\n            scopes: [\"https://www.googleapis.com/auth/drive.file\"],\n        });\n        const drive = google.drive({ version: \"v3\", auth });\n\n        // Delete old file if it exists\n        if (oldFileId) {\n            await deleteFileFromDrive(oldFileId);\n        }\n\n        console.log(`Processing ${fileType} upload...`);\n        const isPdf = fileData.startsWith(\"JVBERi0\");\n        const ext = isPdf ? \"pdf\" : \"docx\";\n        const fileName = `${userId}-${fileType}-${Date.now()}.${ext}`;\n        const buffer = Buffer.from(fileData, \"base64\");\n        console.log(`${fileType} size (bytes):`, buffer.length);\n\n        const bufferStream = new Readable();\n        bufferStream.push(buffer);\n        bufferStream.push(null);\n\n        const fileMetadata = {\n            name: fileName,\n            parents: [process.env.GOOGLE_DRIVE_FOLDER_ID],\n        };\n\n        const media = {\n            mimeType: isPdf ? \"application/pdf\" : \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\n            body: bufferStream,\n        };\n\n        const driveResponse = await drive.files.create({\n            requestBody: fileMetadata,\n            media,\n            fields: \"id, webContentLink\",\n        });\n\n        await drive.permissions.create({\n            fileId: driveResponse.data.id,\n            requestBody: {\n                role: \"reader\",\n                type: \"anyone\",\n            },\n        });\n\n        const fileUrl = driveResponse.data.webContentLink;\n        console.log(`${fileType} uploaded successfully:`, fileUrl);\n        return { url: fileUrl, fileId: driveResponse.data.id };\n    } catch (error) {\n        console.error(`${fileType} upload error:`, error.message, error.stack || \"No stack trace\");\n        return { url: null, fileId: null };\n    }\n}\n\nexport async function deleteFileFromDrive(fileId) {\n    try {\n        const serviceAccountCreds = JSON.parse(process.env.GOOGLE_SERVICE_ACCOUNT);\n        const auth = new google.auth.GoogleAuth({\n            credentials: serviceAccountCreds,\n            scopes: [\"https://www.googleapis.com/auth/drive.file\"],\n        });\n        const drive = google.drive({ version: \"v3\", auth });\n\n        console.log(`Deleting old file with ID: ${fileId}`);\n        await drive.files.delete({ fileId });\n        console.log(`Deleted file with ID: ${fileId}`);\n    } catch (error) {\n        console.error(`Error deleting file with ID ${fileId}:`, error.message);\n    }\n}"],"names":[],"mappings":"AAAA,0BAA0B;;;;;AAC1B;AACA;;;AAEO,eAAe,kBAAkB,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS;IACzE,IAAI;QACA,MAAM,sBAAsB,KAAK,KAAK,CAAC,QAAQ,GAAG,CAAC,sBAAsB;QACzE,MAAM,OAAO,IAAI,6GAAA,CAAA,SAAM,CAAC,IAAI,CAAC,UAAU,CAAC;YACpC,aAAa;YACb,QAAQ;gBAAC;aAA6C;QAC1D;QACA,MAAM,QAAQ,6GAAA,CAAA,SAAM,CAAC,KAAK,CAAC;YAAE,SAAS;YAAM;QAAK;QAEjD,+BAA+B;QAC/B,IAAI,WAAW;YACX,MAAM,oBAAoB;QAC9B;QAEA,QAAQ,GAAG,CAAC,CAAC,WAAW,EAAE,SAAS,UAAU,CAAC;QAC9C,MAAM,QAAQ,SAAS,UAAU,CAAC;QAClC,MAAM,MAAM,QAAQ,QAAQ;QAC5B,MAAM,WAAW,GAAG,OAAO,CAAC,EAAE,SAAS,CAAC,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK;QAC7D,MAAM,SAAS,OAAO,IAAI,CAAC,UAAU;QACrC,QAAQ,GAAG,CAAC,GAAG,SAAS,cAAc,CAAC,EAAE,OAAO,MAAM;QAEtD,MAAM,eAAe,IAAI,qGAAA,CAAA,WAAQ;QACjC,aAAa,IAAI,CAAC;QAClB,aAAa,IAAI,CAAC;QAElB,MAAM,eAAe;YACjB,MAAM;YACN,SAAS;gBAAC,QAAQ,GAAG,CAAC,sBAAsB;aAAC;QACjD;QAEA,MAAM,QAAQ;YACV,UAAU,QAAQ,oBAAoB;YACtC,MAAM;QACV;QAEA,MAAM,gBAAgB,MAAM,MAAM,KAAK,CAAC,MAAM,CAAC;YAC3C,aAAa;YACb;YACA,QAAQ;QACZ;QAEA,MAAM,MAAM,WAAW,CAAC,MAAM,CAAC;YAC3B,QAAQ,cAAc,IAAI,CAAC,EAAE;YAC7B,aAAa;gBACT,MAAM;gBACN,MAAM;YACV;QACJ;QAEA,MAAM,UAAU,cAAc,IAAI,CAAC,cAAc;QACjD,QAAQ,GAAG,CAAC,GAAG,SAAS,uBAAuB,CAAC,EAAE;QAClD,OAAO;YAAE,KAAK;YAAS,QAAQ,cAAc,IAAI,CAAC,EAAE;QAAC;IACzD,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,GAAG,SAAS,cAAc,CAAC,EAAE,MAAM,OAAO,EAAE,MAAM,KAAK,IAAI;QACzE,OAAO;YAAE,KAAK;YAAM,QAAQ;QAAK;IACrC;AACJ;AAEO,eAAe,oBAAoB,MAAM;IAC5C,IAAI;QACA,MAAM,sBAAsB,KAAK,KAAK,CAAC,QAAQ,GAAG,CAAC,sBAAsB;QACzE,MAAM,OAAO,IAAI,6GAAA,CAAA,SAAM,CAAC,IAAI,CAAC,UAAU,CAAC;YACpC,aAAa;YACb,QAAQ;gBAAC;aAA6C;QAC1D;QACA,MAAM,QAAQ,6GAAA,CAAA,SAAM,CAAC,KAAK,CAAC;YAAE,SAAS;YAAM;QAAK;QAEjD,QAAQ,GAAG,CAAC,CAAC,2BAA2B,EAAE,QAAQ;QAClD,MAAM,MAAM,KAAK,CAAC,MAAM,CAAC;YAAE;QAAO;QAClC,QAAQ,GAAG,CAAC,CAAC,sBAAsB,EAAE,QAAQ;IACjD,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,CAAC,4BAA4B,EAAE,OAAO,CAAC,CAAC,EAAE,MAAM,OAAO;IACzE;AACJ"}},
    {"offset": {"line": 298, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 312, "column": 0}, "map": {"version":3,"sources":["file:///Users/Apple/Documents/Projects/Clients/GCC%20Internal%20Tools/gcg-interview-evaluation/src/data/questions.js"],"sourcesContent":["// src/data/questions.js\nexport const questions = [\n    {\n        id: 1,\n        text: \"Apart from English, which of the following languages do you speak?\",\n        options: [\"French\", \"German\", \"Portuguese\", \"Mandarin\", \"None\"],\n    },\n    {\n        id: 2,\n        text: \"What grade did you score in High school (or similar)?\",\n        options: [\"A\", \"B\", \"C\", \"D\"],\n    },\n    {\n        id: 3,\n        text: \"Have you undertaken/undertaking any Masters degree?\",\n        options: [\"Yes\", \"No\"],\n    },\n    {\n        id: 4,\n        text: \"What was your University score at graduation?\",\n        options: [\n            \"First class\",\n            \"Second class upper division\",\n            \"Second class lower division\",\n            \"Third class\",\n        ],\n    },\n    {\n        id: 5,\n        text: \"Which of the following are you most proficient in?\",\n        options: [\"Written communication\", \"Oral communication\", \"Both\"],\n    },\n    {\n        id: 6,\n        text: \"How would you rate your interpersonal skills?\",\n        options: [\"Beginner\", \"Intermediate\", \"Proficient\"],\n    },\n    {\n        id: 7,\n        text: \"How many certifications/short courses have you undertaken within the last 6 months?\",\n        options: [\"0\", \"1\", \"2\", \"3\", \"4\", \"5+\"],\n    },\n    {\n        id: 8,\n        text: \"You are working in a call center at Growthpad. You have received a call from a customer who has been waiting for a project manager who has failed to arrive within the scheduled time slot for a meeting. The customer is upset and is talking in a raised voice. Which would be the ‘most effective’ action to take first?\",\n        type: \"situational\",\n        options: [\n            \"Apologize to the customer and say you will arrange for a re-scheduled appointment.\",\n            \"Listen to the customer’s feedback and tell them that you can understand why they are upset and that it must be very inconvenient for them.\",\n            \"Explain that the project manager has a very busy schedule and it’s difficult for her to always be on time but you’re sure she will arrive soon.\",\n            \"Apologize to the customer and ask them to hold while you contact the project manager to establish where she is.\",\n        ],\n    },\n    {\n        id: 9,\n        text: \"What is the first step in learning about a product/service?\",\n        type: \"situational\",\n        options: [\n            \"Contact your supervisor and ask for a meeting to walk you through the products/services.\",\n            \"Take some time to read the information provided with the product e.g., product briefs, catalog etc.\",\n            \"Ask a colleague who has already read about the product to give you a brief summary of the information you need.\",\n            \"Read the information provided with the product while helping customers.\",\n        ],\n    },\n    {\n        id: 10,\n        text: \"A customer approaches you and says: 'The service here is just horrible!' What would you say to her?\",\n        type: \"situational\",\n        options: [\n            \"“I am really sorry you feel that way. Would you like to get the manager so that you can talk to him?”\",\n            \"“I understand your frustration; this is an unexpectedly busy hour. We are doing our best.”\",\n            \"“I am sorry to hear that. What is it about the service that disappointed you today?”\",\n            \"“I am sorry to hear that you had a bad experience today. I hope your next visit will be more pleasant.”\",\n        ],\n    },\n    {\n        id: 11,\n        text: \"You manage a department that is comprised of 4 teams. Things go rather smoothly - your teams are cooperative, the atmosphere is good and the department manages to meet its deadlines. You know that things go fine but think that the team leaders are resting on their laurels. You believe they can do better and productivity rates can be higher. What would you do?\",\n        type: \"situational\",\n        options: [\n            \"Set a goal to increase productivity by 5% next month and provide an incentive.\",\n            \"Speak openly to the team leaders - tell them that they perform well but can do better and ask them to improve.\",\n            \"Give a motivational speech in which you focus on how competent the team leaders are.\",\n            \"Tell the team leaders that you feel they are not motivated enough and you want them to aim higher.\",\n        ],\n    },\n    {\n        id: 12,\n        text: \"If given the opportunity, for how long would you like to work at Growthpad?\",\n        options: [\"1 year\", \"2-3 years\", \"3-5 years\", \"5-10 years\", \"10+ years\"],\n    },\n    {\n        id: 13,\n        text: \"How many countries have you visited in your lifetime?\",\n        options: [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6+\"],\n    },\n    {\n        id: 14,\n        text: \"How do you manage competing priorities with tight deadlines?\",\n        type: \"situational\",\n        options: [\n            \"Work overtime to complete all tasks.\",\n            \"Communicate with stakeholders to clarify priorities and delegate tasks.\",\n            \"Focus only on high-visibility tasks.\",\n            \"Request deadline extensions.\",\n        ],\n    },\n    {\n        id: 15,\n        text: \"A key stakeholder disagrees with your approach. How do you handle this?\",\n        type: \"situational\",\n        options: [\n            \"Avoid confrontation to maintain harmony.\",\n            \"Listen to their concerns, present data, and seek alignment.\",\n            \"Escalate the issue to senior management.\",\n            \"Insist your approach is correct.\",\n        ],\n    },\n    {\n        id: 16,\n        text: \"Have you ever worked as a volunteer?\",\n        options: [\"Yes\", \"No\"],\n    },\n    {\n        id: 17,\n        text: \"In your previous role, can you name one innovative thing that you introduced to the organization? This one thing can be confirmed by your referees.\",\n        options: [\"Yes\", \"No\"],\n    },\n    {\n        id: 18,\n        text: \"How many years did you work in your previous organization?\",\n        options: [\"Less than 1 year\", \"1-2 years\", \"2-3 years\", \"3-5 years\", \"6+ years\"],\n    },\n    {\n        id: 19,\n        text: \"You encounter an unexpected obstacle that threatens a project deadline. How do you respond?\",\n        type: \"situational\",\n        options: [\n            \"Immediately take charge and implement a solution.\",\n            \"Assess the situation, gather input from stakeholders, and then act.\",\n            \"Delegate the issue to a team member.\",\n            \"Wait for instructions from leadership.\",\n        ],\n    },\n];"],"names":[],"mappings":"AAAA,wBAAwB;;;;AACjB,MAAM,YAAY;IACrB;QACI,IAAI;QACJ,MAAM;QACN,SAAS;YAAC;YAAU;YAAU;YAAc;YAAY;SAAO;IACnE;IACA;QACI,IAAI;QACJ,MAAM;QACN,SAAS;YAAC;YAAK;YAAK;YAAK;SAAI;IACjC;IACA;QACI,IAAI;QACJ,MAAM;QACN,SAAS;YAAC;YAAO;SAAK;IAC1B;IACA;QACI,IAAI;QACJ,MAAM;QACN,SAAS;YACL;YACA;YACA;YACA;SACH;IACL;IACA;QACI,IAAI;QACJ,MAAM;QACN,SAAS;YAAC;YAAyB;YAAsB;SAAO;IACpE;IACA;QACI,IAAI;QACJ,MAAM;QACN,SAAS;YAAC;YAAY;YAAgB;SAAa;IACvD;IACA;QACI,IAAI;QACJ,MAAM;QACN,SAAS;YAAC;YAAK;YAAK;YAAK;YAAK;YAAK;SAAK;IAC5C;IACA;QACI,IAAI;QACJ,MAAM;QACN,MAAM;QACN,SAAS;YACL;YACA;YACA;YACA;SACH;IACL;IACA;QACI,IAAI;QACJ,MAAM;QACN,MAAM;QACN,SAAS;YACL;YACA;YACA;YACA;SACH;IACL;IACA;QACI,IAAI;QACJ,MAAM;QACN,MAAM;QACN,SAAS;YACL;YACA;YACA;YACA;SACH;IACL;IACA;QACI,IAAI;QACJ,MAAM;QACN,MAAM;QACN,SAAS;YACL;YACA;YACA;YACA;SACH;IACL;IACA;QACI,IAAI;QACJ,MAAM;QACN,SAAS;YAAC;YAAU;YAAa;YAAa;YAAc;SAAY;IAC5E;IACA;QACI,IAAI;QACJ,MAAM;QACN,SAAS;YAAC;YAAK;YAAK;YAAK;YAAK;YAAK;YAAK;SAAK;IACjD;IACA;QACI,IAAI;QACJ,MAAM;QACN,MAAM;QACN,SAAS;YACL;YACA;YACA;YACA;SACH;IACL;IACA;QACI,IAAI;QACJ,MAAM;QACN,MAAM;QACN,SAAS;YACL;YACA;YACA;YACA;SACH;IACL;IACA;QACI,IAAI;QACJ,MAAM;QACN,SAAS;YAAC;YAAO;SAAK;IAC1B;IACA;QACI,IAAI;QACJ,MAAM;QACN,SAAS;YAAC;YAAO;SAAK;IAC1B;IACA;QACI,IAAI;QACJ,MAAM;QACN,SAAS;YAAC;YAAoB;YAAa;YAAa;YAAa;SAAW;IACpF;IACA;QACI,IAAI;QACJ,MAAM;QACN,MAAM;QACN,SAAS;YACL;YACA;YACA;YACA;SACH;IACL;CACH"}},
    {"offset": {"line": 515, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 521, "column": 0}, "map": {"version":3,"sources":["file:///Users/Apple/Documents/Projects/Clients/GCC%20Internal%20Tools/gcg-interview-evaluation/utils/emailUtils.js"],"sourcesContent":["// src/utils/emailUtils.js\nimport nodemailer from \"nodemailer\";\nimport { questions } from \"@/data/questions\";\n\nexport async function sendEmails({\n                                     fullName,\n                                     email,\n                                     phone,\n                                     linkedin,\n                                     score,\n                                     resumeUrl,\n                                     coverLetterUrl,\n                                     answers,\n                                     candidateTemplate,\n                                     adminTemplate,\n                                 }) {\n    try {\n        const transporter = nodemailer.createTransport({\n            host: process.env.EMAIL_HOST,\n            port: parseInt(process.env.EMAIL_PORT),\n            secure: process.env.EMAIL_SECURE === \"true\",\n            auth: {\n                user: process.env.EMAIL_USER,\n                pass: process.env.EMAIL_PASS,\n            },\n        });\n\n        // Format answers for admin email\n        const formattedAnswers = Object.keys(answers).map((key) => {\n            const questionIndex = parseInt(key, 10);\n            const question = questions[questionIndex]?.text || `Question ${parseInt(key) + 1}`;\n            const answer = Array.isArray(answers[key]) ? answers[key].join(\", \") : answers[key];\n            return { question, answer };\n        });\n\n        // Send candidate email\n        const candidateHtml = candidateTemplate\n            .replace(\"{{fullName}}\", fullName)\n            .replace(\"{{score}}\", score);\n\n        await transporter.sendMail({\n            from: `\"Growthpad Consulting Group\" <${process.env.EMAIL_USER}>`,\n            to: email,\n            subject: \"Thank You for Completing Your Interview!\",\n            html: candidateHtml,\n        });\n\n        // Send admin email\n        const adminHtml = adminTemplate\n            .replace(\"{{fullName}}\", fullName)\n            .replace(\"{{email}}\", email)\n            .replace(\"{{phone}}\", phone || \"N/A\")\n            .replace(\"{{linkedin}}\", linkedin ? `<a href=\"${linkedin}\" style=\"color: #f05d23;\">${linkedin}</a>` : \"N/A\")\n            .replace(\"{{score}}\", score)\n            .replace(\n                \"{{resumeUrl}}\",\n                resumeUrl ? `<a href=\"${resumeUrl}\" style=\"color: #f05d23;\">Download</a>` : \"Not provided\"\n            )\n            .replace(\n                \"{{coverLetterUrl}}\",\n                coverLetterUrl ? `<a href=\"${coverLetterUrl}\" style=\"color: #f05d23;\">Download</a>` : \"Not provided\"\n            )\n            .replace(\n                \"{{answersTable}}\",\n                formattedAnswers\n                    .map(\n                        (qa, index) =>\n                            `<tr style=\"background-color: ${index % 2 === 0 ? \"#f9f9f9\" : \"#fff\"};\">\n                                <td style=\"padding: 10px; font-weight: bold; border-bottom: 1px solid #ddd;\">${qa.question}</td>\n                                <td style=\"padding: 10px; border-bottom: 1px solid #ddd;\">${qa.answer}</td>\n                            </tr>`\n                    )\n                    .join(\"\")\n            );\n\n        await transporter.sendMail({\n            from: `\"Growthpad Consulting Group\" <${process.env.EMAIL_USER}>`,\n            to: \"analytics.growthpad@gmail.com\",\n            subject: `New Interview Submission from ${fullName}`,\n            html: adminHtml,\n        });\n\n        console.log(\"Emails sent successfully\");\n    } catch (error) {\n        console.error(\"Email sending error:\", error.message);\n    }\n}"],"names":[],"mappings":"AAAA,0BAA0B;;;;AAC1B;AACA;;;AAEO,eAAe,WAAW,EACI,QAAQ,EACR,KAAK,EACL,KAAK,EACL,QAAQ,EACR,KAAK,EACL,SAAS,EACT,cAAc,EACd,OAAO,EACP,iBAAiB,EACjB,aAAa,EAChB;IAC9B,IAAI;QACA,MAAM,cAAc,6GAAA,CAAA,UAAU,CAAC,eAAe,CAAC;YAC3C,MAAM,QAAQ,GAAG,CAAC,UAAU;YAC5B,MAAM,SAAS,QAAQ,GAAG,CAAC,UAAU;YACrC,QAAQ,QAAQ,GAAG,CAAC,YAAY,KAAK;YACrC,MAAM;gBACF,MAAM,QAAQ,GAAG,CAAC,UAAU;gBAC5B,MAAM,QAAQ,GAAG,CAAC,UAAU;YAChC;QACJ;QAEA,iCAAiC;QACjC,MAAM,mBAAmB,OAAO,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;YAC/C,MAAM,gBAAgB,SAAS,KAAK;YACpC,MAAM,WAAW,iHAAA,CAAA,YAAS,CAAC,cAAc,EAAE,QAAQ,CAAC,SAAS,EAAE,SAAS,OAAO,GAAG;YAClF,MAAM,SAAS,MAAM,OAAO,CAAC,OAAO,CAAC,IAAI,IAAI,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,OAAO,CAAC,IAAI;YACnF,OAAO;gBAAE;gBAAU;YAAO;QAC9B;QAEA,uBAAuB;QACvB,MAAM,gBAAgB,kBACjB,OAAO,CAAC,gBAAgB,UACxB,OAAO,CAAC,aAAa;QAE1B,MAAM,YAAY,QAAQ,CAAC;YACvB,MAAM,CAAC,8BAA8B,EAAE,QAAQ,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC;YAChE,IAAI;YACJ,SAAS;YACT,MAAM;QACV;QAEA,mBAAmB;QACnB,MAAM,YAAY,cACb,OAAO,CAAC,gBAAgB,UACxB,OAAO,CAAC,aAAa,OACrB,OAAO,CAAC,aAAa,SAAS,OAC9B,OAAO,CAAC,gBAAgB,WAAW,CAAC,SAAS,EAAE,SAAS,0BAA0B,EAAE,SAAS,IAAI,CAAC,GAAG,OACrG,OAAO,CAAC,aAAa,OACrB,OAAO,CACJ,iBACA,YAAY,CAAC,SAAS,EAAE,UAAU,sCAAsC,CAAC,GAAG,gBAE/E,OAAO,CACJ,sBACA,iBAAiB,CAAC,SAAS,EAAE,eAAe,sCAAsC,CAAC,GAAG,gBAEzF,OAAO,CACJ,oBACA,iBACK,GAAG,CACA,CAAC,IAAI,QACD,CAAC,6BAA6B,EAAE,QAAQ,MAAM,IAAI,YAAY,OAAO;6GACY,EAAE,GAAG,QAAQ,CAAC;0FACjC,EAAE,GAAG,MAAM,CAAC;iCACrE,CAAC,EAEb,IAAI,CAAC;QAGlB,MAAM,YAAY,QAAQ,CAAC;YACvB,MAAM,CAAC,8BAA8B,EAAE,QAAQ,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC;YAChE,IAAI;YACJ,SAAS,CAAC,8BAA8B,EAAE,UAAU;YACpD,MAAM;QACV;QAEA,QAAQ,GAAG,CAAC;IAChB,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,wBAAwB,MAAM,OAAO;IACvD;AACJ"}},
    {"offset": {"line": 574, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 580, "column": 0}, "map": {"version":3,"sources":["file:///Users/Apple/Documents/Projects/Clients/GCC%20Internal%20Tools/gcg-interview-evaluation/utils/scoreUtils.js"],"sourcesContent":["// src/utils/scoreUtils.js\nexport function calculateScore(answers) {\n    let totalScore = 0;\n\n    const q1Answers = answers[0] || [];\n    if (q1Answers.includes(\"None\")) totalScore += 0;\n    else {\n        const languageCount = q1Answers.length;\n        totalScore += Math.min(5 + (languageCount - 1) * 2, 10);\n    }\n\n    const q2Answer = answers[1]?.[0];\n    totalScore += q2Answer === \"A\" ? 10 : q2Answer === \"B\" ? 7 : q2Answer === \"C\" ? 4 : q2Answer === \"D\" ? 2 : 0;\n\n    totalScore += answers[2]?.[0] === \"Yes\" ? 10 : 0;\n\n    const q4Answer = answers[3]?.[0];\n    totalScore +=\n        q4Answer === \"First class\"\n            ? 10\n            : q4Answer === \"Second class upper division\"\n                ? 7\n                : q4Answer === \"Second class lower division\"\n                    ? 4\n                    : q4Answer === \"Third class\"\n                        ? 2\n                        : 0;\n\n    const q5Answer = answers[4]?.[0];\n    totalScore += q5Answer === \"Both\" ? 10 : q5Answer ? 5 : 0;\n\n    const q6Answer = answers[5]?.[0];\n    totalScore +=\n        q6Answer === \"Proficient\" ? 10 : q6Answer === \"Intermediate\" ? 7 : q6Answer === \"Beginner\" ? 3 : 0;\n\n    const q7Answer = answers[6]?.[0];\n    totalScore +=\n        q7Answer === \"5+\" ? 10 : q7Answer === \"4\" ? 8 : q7Answer === \"3\" ? 6 : q7Answer === \"2\" ? 4 : q7Answer === \"1\" ? 2 : 0;\n\n    const q8Answer = answers[7]?.[0];\n    totalScore +=\n        q8Answer === \"Listen to the customer's feedback and tell them that you can understand why they are upset and that it must be very inconvenient for them.\"\n            ? 10\n            : q8Answer === \"Apologize to the customer and ask them to hold while you contact the project manager to establish where she is.\"\n                ? 7\n                : q8Answer === \"Apologize to the customer and say you will arrange for a re-scheduled appointment.\"\n                    ? 4\n                    : 2;\n\n    const q9Answer = answers[8]?.[0];\n    totalScore +=\n        q9Answer === \"Take some time to read the information provided with the product e.g., product briefs, catalog etc.\"\n            ? 10\n            : q9Answer === \"Contact your supervisor and ask for a meeting to walk you through the products/services.\"\n                ? 7\n                : q9Answer === \"Ask a colleague who has already read about the product to give you a brief summary of the information you need.\"\n                    ? 4\n                    : 2;\n\n    const q10Answer = answers[9]?.[0];\n    totalScore +=\n        q10Answer === \"“I am sorry to hear that. What is it about the service that disappointed you today?”\"\n            ? 10\n            : q10Answer === \"“I understand your frustration; this is an unexpectedly busy hour. We are doing our best.”\"\n                ? 7\n                : q10Answer === \"“I am really sorry you feel that way. Would you like to get the manager so that you can talk to him?”\"\n                    ? 4\n                    : 2;\n\n    const q11Answer = answers[10]?.[0];\n    totalScore +=\n        q11Answer === \"Set a goal to increase productivity by 5% next month and provide an incentive.\"\n            ? 10\n            : q11Answer === \"Speak openly to the team leaders - tell them that they perform well but can do better and ask them to improve.\"\n                ? 7\n                : q11Answer === \"Give a motivational speech in which you focus on how competent the team leaders are.\"\n                    ? 4\n                    : 2;\n\n    const q12Answer = answers[11]?.[0];\n    totalScore +=\n        q12Answer === \"10+ years\" ? 10 : q12Answer === \"5-10 years\" ? 8 : q12Answer === \"3-5 years\" ? 6 : q12Answer === \"2-3 years\" ? 4 : 2;\n\n    const q13Answer = answers[12]?.[0];\n    totalScore +=\n        q13Answer === \"6+\" ? 10 : q13Answer === \"5\" ? 8 : q13Answer === \"4\" ? 6 : q13Answer === \"3\" ? 4 : q13Answer === \"2\" ? 2 : 0;\n\n    const q14Answer = answers[13]?.[0];\n    totalScore +=\n        q14Answer === \"Communicate with stakeholders to clarify priorities and delegate tasks.\"\n            ? 10\n            : q14Answer === \"Work overtime to complete all tasks.\"\n                ? 7\n                : q14Answer === \"Request deadline extensions.\"\n                    ? 4\n                    : 2;\n\n    const q15Answer = answers[14]?.[0];\n    totalScore +=\n        q15Answer === \"Listen to their concerns, present data, and seek alignment.\"\n            ? 10\n            : q15Answer === \"Escalate the issue to senior management.\"\n                ? 7\n                : q15Answer === \"Avoid confrontation to maintain harmony.\"\n                    ? 4\n                    : 2;\n\n    totalScore += answers[15]?.[0] === \"Yes\" ? 10 : 0;\n    totalScore += answers[16]?.[0] === \"Yes\" ? 10 : 0;\n\n    const q18Answer = answers[17]?.[0];\n    totalScore +=\n        q18Answer === \"6+ years\" ? 10 : q18Answer === \"3-5 years\" ? 7 : q18Answer === \"2-3 years\" ? 5 : q18Answer === \"1-2 years\" ? 3 : 0;\n\n    const q19Answer = answers[18]?.[0];\n    totalScore +=\n        q19Answer === \"Assess the situation, gather input from stakeholders, and then act.\"\n            ? 10\n            : q19Answer === \"Immediately take charge and implement a solution.\"\n                ? 7\n                : q19Answer === \"Delegate the issue to a team member.\"\n                    ? 4\n                    : 2;\n\n    return Math.min(totalScore, 190);\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 627, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 649, "column": 0}, "map": {"version":3,"sources":["file:///Users/Apple/Documents/Projects/Clients/GCC%20Internal%20Tools/gcg-interview-evaluation/src/pages/api/submit.js"],"sourcesContent":["// src/pages/api/submit.js\nimport { supabase } from \"../../../lib/supabase\";\nimport { upsertCandidate, upsertResponse } from \"../../../utils/dbUtils\";\nimport { uploadFileToDrive, deleteFileFromDrive } from \"../../../utils/driveUtils\";\nimport { sendEmails } from \"../../../utils/emailUtils\";\nimport { calculateScore } from \"../../../utils/scoreUtils\";\nimport fs from \"fs\";\nimport path from \"path\";\n\nexport const config = {\n    api: {\n        bodyParser: {\n            sizeLimit: \"5mb\",\n        },\n    },\n};\n\nexport default async function handler(req, res) {\n    if (req.method !== \"POST\") {\n        return res.status(405).json({ error: \"Method not allowed\" });\n    }\n\n    try {\n        const { fullName, email, phone, linkedin, answers, resume, coverLetter } = req.body;\n\n        console.log(\"Received data:\", {\n            fullName,\n            email,\n            phone,\n            linkedin,\n            answers,\n            resume: resume ? \"present\" : \"none\",\n            coverLetter: coverLetter ? \"present\" : \"none\",\n        });\n\n        if (!fullName || !email) {\n            return res.status(400).json({ error: \"Full name and email are required\" });\n        }\n\n        // Handle candidate upsert\n        const { userId, error: candidateError } = await upsertCandidate({ fullName, email, phone, linkedin });\n        if (candidateError) {\n            return res.status(candidateError.status).json({ error: candidateError.message, details: candidateError.details });\n        }\n\n        const score = calculateScore(answers);\n\n        // Fetch existing response to get old file IDs\n        const { data: existingResponse, error: fetchResponseError } = await supabase\n            .from(\"responses\")\n            .select(\"resume_file_id, cover_letter_file_id\")\n            .eq(\"user_id\", userId)\n            .single();\n\n        if (fetchResponseError && fetchResponseError.code !== \"PGRST116\") {\n            console.error(\"Fetch existing response error:\", fetchResponseError);\n            return res.status(500).json({ error: \"Error fetching existing response\", details: fetchResponseError.message });\n        }\n\n        const oldResumeFileId = existingResponse?.resume_file_id;\n        const oldCoverLetterFileId = existingResponse?.cover_letter_file_id;\n\n        // Upload files to Google Drive, deleting old ones first\n        const resumeResult = resume ? await uploadFileToDrive(userId, resume, \"resume\", oldResumeFileId) : { url: null, fileId: null };\n        const coverLetterResult = coverLetter\n            ? await uploadFileToDrive(userId, coverLetter, \"cover-letter\", oldCoverLetterFileId)\n            : { url: null, fileId: null };\n\n        // Handle response upsert\n        const { error: responseError } = await upsertResponse({\n            userId,\n            answers,\n            score,\n            resumeUrl: resumeResult.url,\n            coverLetterUrl: coverLetterResult.url,\n            resumeFileId: resumeResult.fileId,\n            coverLetterFileId: coverLetterResult.fileId,\n        });\n        if (responseError) {\n            return res.status(responseError.status).json({ error: responseError.message, details: responseError.details });\n        }\n\n        // Send emails\n        const candidateEmailTemplate = fs.readFileSync(path.join(process.cwd(), \"src/templates/candidateEmail.html\"), \"utf8\");\n        const adminEmailTemplate = fs.readFileSync(path.join(process.cwd(), \"src/templates/adminEmail.html\"), \"utf8\");\n\n        await sendEmails({\n            fullName,\n            email,\n            phone,\n            linkedin,\n            score,\n            resumeUrl: resumeResult.url,\n            coverLetterUrl: coverLetterResult.url,\n            answers,\n            candidateTemplate: candidateEmailTemplate,\n            adminTemplate: adminEmailTemplate,\n        });\n\n        return res.status(200).json({ message: \"Submission successful\", score });\n    } catch (error) {\n        console.error(\"Submission error:\", error.message);\n        return res.status(500).json({ error: \"Internal server error\", details: error.message });\n    }\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 774, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 779, "column": 0}, "map": {"version":3,"sources":["file:///Users/Apple/Documents/Projects/Clients/GCC%20Internal%20Tools/gcg-interview-evaluation/node_modules/next/dist/src/server/route-modules/pages-api/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/pages-api/module.js')\n} else {\n  if (process.env.NODE_ENV === 'development') {\n    module.exports = require('next/dist/compiled/next-server/pages-api.runtime.dev.js')\n  } else if (process.env.TURBOPACK) {\n    module.exports = require('next/dist/compiled/next-server/pages-api-turbo.runtime.prod.js')\n  } else {\n    module.exports = require('next/dist/compiled/next-server/pages-api.runtime.prod.js')\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,MAAQ;;AAEzC,OAAO;IACL,IAAIF,QAAQC,GAAG,CAACK,QAAQ,KAAK,WAAe;QAC1CH,OAAOC,OAAO,GAAGC,QAAQ;IAC3B,OAAO,IAAIL,QAAQC,GAAG,CAACM,SAAS,EAAE;;IAIlC;AACF","ignoreList":[0]}},
    {"offset": {"line": 788, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 794, "column": 0}, "map": {"version":3,"sources":["file:///Users/Apple/Documents/Projects/Clients/GCC%20Internal%20Tools/gcg-interview-evaluation/node_modules/next/dist/src/server/route-kind.ts"],"sourcesContent":["export const enum RouteKind {\n  /**\n   * `PAGES` represents all the React pages that are under `pages/`.\n   */\n  PAGES = 'PAGES',\n  /**\n   * `PAGES_API` represents all the API routes under `pages/api/`.\n   */\n  PAGES_API = 'PAGES_API',\n  /**\n   * `APP_PAGE` represents all the React pages that are under `app/` with the\n   * filename of `page.{j,t}s{,x}`.\n   */\n  APP_PAGE = 'APP_PAGE',\n  /**\n   * `APP_ROUTE` represents all the API routes and metadata routes that are under `app/` with the\n   * filename of `route.{j,t}s{,x}`.\n   */\n  APP_ROUTE = 'APP_ROUTE',\n\n  /**\n   * `IMAGE` represents all the images that are generated by `next/image`.\n   */\n  IMAGE = 'IMAGE',\n}\n"],"names":["RouteKind"],"mappings":";;;AAAO,IAAWA,YAAAA,WAAAA,GAAAA,SAAAA,SAAAA;IAChB;;GAEC,GAAA,SAAA,CAAA,QAAA,GAAA;IAED;;GAEC,GAAA,SAAA,CAAA,YAAA,GAAA;IAED;;;GAGC,GAAA,SAAA,CAAA,WAAA,GAAA;IAED;;;GAGC,GAAA,SAAA,CAAA,YAAA,GAAA;IAGD;;GAEC,GAAA,SAAA,CAAA,QAAA,GAAA;WAtBeA;MAwBjB","ignoreList":[0]}},
    {"offset": {"line": 817, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 823, "column": 0}, "map": {"version":3,"sources":["file:///Users/Apple/Documents/Projects/Clients/GCC%20Internal%20Tools/gcg-interview-evaluation/node_modules/next/dist/src/build/templates/helpers.ts"],"sourcesContent":["/**\n * Hoists a name from a module or promised module.\n *\n * @param module the module to hoist the name from\n * @param name the name to hoist\n * @returns the value on the module (or promised module)\n */\nexport function hoist(module: any, name: string) {\n  // If the name is available in the module, return it.\n  if (name in module) {\n    return module[name]\n  }\n\n  // If a property called `then` exists, assume it's a promise and\n  // return a promise that resolves to the name.\n  if ('then' in module && typeof module.then === 'function') {\n    return module.then((mod: any) => hoist(mod, name))\n  }\n\n  // If we're trying to hoise the default export, and the module is a function,\n  // return the module itself.\n  if (typeof module === 'function' && name === 'default') {\n    return module\n  }\n\n  // Otherwise, return undefined.\n  return undefined\n}\n"],"names":["hoist","module","name","then","mod","undefined"],"mappings":"AAAA;;;;;;CAMC,GACD;;;AAAO,SAASA,MAAMC,MAAW,EAAEC,IAAY;IAC7C,qDAAqD;IACrD,IAAIA,QAAQD,QAAQ;QAClB,OAAOA,MAAM,CAACC,KAAK;IACrB;IAEA,gEAAgE;IAChE,8CAA8C;IAC9C,IAAI,UAAUD,UAAU,OAAOA,OAAOE,IAAI,KAAK,YAAY;QACzD,OAAOF,OAAOE,IAAI,CAAC,CAACC,MAAaJ,MAAMI,KAAKF;IAC9C;IAEA,6EAA6E;IAC7E,4BAA4B;IAC5B,IAAI,OAAOD,WAAW,cAAcC,SAAS,WAAW;QACtD,OAAOD;IACT;IAEA,+BAA+B;IAC/B,OAAOI;AACT","ignoreList":[0]}},
    {"offset": {"line": 850, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 856, "column": 0}, "map": {"version":3,"sources":["file:///Users/Apple/Documents/Projects/Clients/GCC%20Internal%20Tools/gcg-interview-evaluation/node_modules/next/dist/src/build/templates/pages-api.ts"],"sourcesContent":["import { PagesAPIRouteModule } from '../../server/route-modules/pages-api/module.compiled'\nimport { RouteKind } from '../../server/route-kind'\n\nimport { hoist } from './helpers'\n\n// Import the userland code.\nimport * as userland from 'VAR_USERLAND'\n\n// Re-export the handler (should be the default export).\nexport default hoist(userland, 'default')\n\n// Re-export config.\nexport const config = hoist(userland, 'config')\n\n// Create and export the route module that will be consumed.\nexport const routeModule = new PagesAPIRouteModule({\n  definition: {\n    kind: RouteKind.PAGES_API,\n    page: 'VAR_DEFINITION_PAGE',\n    pathname: 'VAR_DEFINITION_PATHNAME',\n    // The following aren't used in production.\n    bundlePath: '',\n    filename: '',\n  },\n  userland,\n})\n"],"names":["PagesAPIRouteModule","RouteKind","hoist","userland","config","routeModule","definition","kind","PAGES_API","page","pathname","bundlePath","filename"],"mappings":";;;;;AAAA,SAASA,mBAAmB,QAAQ,uDAAsD;AAC1F,SAASC,SAAS,QAAQ,0BAAyB;AAEnD,SAASC,KAAK,QAAQ,YAAW;AAEjC,4BAA4B;AAC5B,YAAYC,cAAc,eAAc;;;;;yMAGzBD,QAAAA,EAAMC,wHAAU,WAAU;AAGlC,MAAMC,2KAASF,QAAAA,EAAMC,wHAAU,UAAS;AAGxC,MAAME,cAAc,qMAAIL,sBAAAA,CAAoB;IACjDM,YAAY;QACVC,8JAAMN,YAAAA,CAAUO,SAAS;QACzBC,MAAM;QACNC,UAAU;QACV,2CAA2C;QAC3CC,YAAY;QACZC,UAAU;IACZ;cACAT;AACF,GAAE","ignoreList":[0]}},
    {"offset": {"line": 883, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}