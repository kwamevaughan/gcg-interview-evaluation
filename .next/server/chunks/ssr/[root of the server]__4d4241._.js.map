{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///Users/Apple/Documents/Projects/Clients/GCC%20Internal%20Tools/gcg-interview-evaluation/src/context/UserContext.js"],"sourcesContent":["// @/context/UserContext.js\nimport { createContext, useContext, useState, useEffect } from 'react';\n\nconst UserContext = createContext();\n\nexport function UserProvider({ children }) {\n    const [token, setToken] = useState(null);\n    const [user, setUser] = useState(null);\n    const [isLoading, setIsLoading] = useState(true);\n\n    useEffect(() => {\n        const storedToken = localStorage.getItem('custom_auth_token');\n        const storedUser = localStorage.getItem('custom_auth_user');\n        if (storedToken && storedUser) {\n            fetch('/api/auth/verify', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ token: storedToken }),\n            })\n                .then(response => response.json())\n                .then(data => {\n                    if (data.valid) {\n                        setToken(storedToken);\n                        setUser(JSON.parse(storedUser));\n                    } else {\n                        setToken(null);\n                        setUser(null);\n                        localStorage.removeItem('custom_auth_token');\n                        localStorage.removeItem('custom_auth_user');\n                    }\n                    setIsLoading(false);\n                })\n                .catch(error => {\n                    setToken(null);\n                    setUser(null);\n                    localStorage.removeItem('custom_auth_token');\n                    localStorage.removeItem('custom_auth_user');\n                    setIsLoading(false);\n                });\n        } else {\n            setIsLoading(false);\n        }\n    }, []);\n\n    const login = async (email, password, recaptchaToken) => {\n        const response = await fetch('/api/auth/login', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ email, password, recaptchaToken }),\n        });\n\n        const data = await response.json();\n        if (!response.ok) {\n            throw new Error(data.error || 'Login failed');\n        }\n\n        setToken(data.token);\n        setUser(data.user);\n        localStorage.setItem('custom_auth_token', data.token);\n        localStorage.setItem('custom_auth_user', JSON.stringify(data.user));\n\n        return data;\n    };\n\n    const logout = () => {\n        setToken(null);\n        setUser(null);\n        localStorage.removeItem('custom_auth_token');\n        localStorage.removeItem('custom_auth_user');\n    };\n\n    return (\n        <UserContext.Provider value={{ token, setToken, user, setUser, login, logout, isLoading }}>\n            {children}\n        </UserContext.Provider>\n    );\n}\n\nexport function useUser() {\n    return useContext(UserContext);\n}"],"names":[],"mappings":"AAAA,2BAA2B;;;;;;AAC3B;;;AAEA,MAAM,4BAAc,CAAA,GAAA,mGAAA,CAAA,gBAAa,AAAD;AAEzB,SAAS,aAAa,EAAE,QAAQ,EAAE;IACrC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,CAAA,GAAA,mGAAA,CAAA,YAAS,AAAD,EAAE;QACN,MAAM,cAAc,aAAa,OAAO,CAAC;QACzC,MAAM,aAAa,aAAa,OAAO,CAAC;QACxC,IAAI,eAAe,YAAY;YAC3B,MAAM,oBAAoB;gBACtB,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE,OAAO;gBAAY;YAC9C,GACK,IAAI,CAAC,CAAA,WAAY,SAAS,IAAI,IAC9B,IAAI,CAAC,CAAA;gBACF,IAAI,KAAK,KAAK,EAAE;oBACZ,SAAS;oBACT,QAAQ,KAAK,KAAK,CAAC;gBACvB,OAAO;oBACH,SAAS;oBACT,QAAQ;oBACR,aAAa,UAAU,CAAC;oBACxB,aAAa,UAAU,CAAC;gBAC5B;gBACA,aAAa;YACjB,GACC,KAAK,CAAC,CAAA;gBACH,SAAS;gBACT,QAAQ;gBACR,aAAa,UAAU,CAAC;gBACxB,aAAa,UAAU,CAAC;gBACxB,aAAa;YACjB;QACR,OAAO;YACH,aAAa;QACjB;IACJ,GAAG,EAAE;IAEL,MAAM,QAAQ,OAAO,OAAO,UAAU;QAClC,MAAM,WAAW,MAAM,MAAM,mBAAmB;YAC5C,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAO;gBAAU;YAAe;QAC3D;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,IAAI,CAAC,SAAS,EAAE,EAAE;YACd,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI;QAClC;QAEA,SAAS,KAAK,KAAK;QACnB,QAAQ,KAAK,IAAI;QACjB,aAAa,OAAO,CAAC,qBAAqB,KAAK,KAAK;QACpD,aAAa,OAAO,CAAC,oBAAoB,KAAK,SAAS,CAAC,KAAK,IAAI;QAEjE,OAAO;IACX;IAEA,MAAM,SAAS;QACX,SAAS;QACT,QAAQ;QACR,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;IAC5B;IAEA,qBACI,qKAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAO;YAAU;YAAM;YAAS;YAAO;YAAQ;QAAU;kBACnF;;;;;;AAGb;AAEO,SAAS;IACZ,OAAO,CAAA,GAAA,mGAAA,CAAA,aAAU,AAAD,EAAE;AACtB"}},
    {"offset": {"line": 183, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 204, "column": 0}, "map": {"version":3,"sources":["file:///Users/Apple/Documents/Projects/Clients/GCC%20Internal%20Tools/gcg-interview-evaluation/src/pages/_app.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport { UserProvider, useUser } from '@/context/UserContext';\nimport SessionExpired from '../components/SessionExpired';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport '../styles/globals.css';\n\nfunction MyApp({ Component, pageProps }) {\n    const [mode, setMode] = useState('light');\n    const [isSessionExpired, setIsSessionExpired] = useState(false);\n    const router = useRouter();\n\n    // Check session on page load or when route changes\n    useEffect(() => {\n        const savedMode = localStorage.getItem('mode');\n        if (savedMode) {\n            setMode(savedMode);\n        } else {\n            const systemMode = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n            setMode(systemMode);\n        }\n\n        const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n        const handleChange = (e) => {\n            if (savedMode === 'system') {\n                setMode(e.matches ? 'dark' : 'light');\n            }\n        };\n        mediaQuery.addEventListener('change', handleChange);\n\n        return () => {\n            mediaQuery.removeEventListener('change', handleChange);\n        };\n    }, []);\n\n    return (\n        <UserProvider>\n            <UserComponent\n                mode={mode}\n                isSessionExpired={isSessionExpired}  // Pass isSessionExpired here\n                setIsSessionExpired={setIsSessionExpired}\n                router={router}\n                Component={Component}\n                pageProps={pageProps}\n            />\n            <ToastContainer position=\"top-right\" />\n        </UserProvider>\n    );\n}\n\nconst UserComponent = ({ mode, isSessionExpired, setIsSessionExpired, router, Component, pageProps }) => {\n    const { user, token, setToken, setUser } = useUser(); // Destructure setUser here\n\n    useEffect(() => {\n        const session = localStorage.getItem('supabase_session');\n\n        // Check if user is logged in\n        if (session) {\n            const parsedSession = JSON.parse(session);\n            setToken(parsedSession.access_token);  // Update context with new token\n            setUser(parsedSession.user);  // Set user in context\n        }\n    }, [setToken, setUser]);\n\n    useEffect(() => {\n        const excludedPaths = ['/', '/participate', '/client-login'];\n\n        // Only trigger session check if not on excluded paths\n        if (!excludedPaths.includes(router.pathname)) {\n            const session = localStorage.getItem('supabase_session');\n\n            if (!session || !JSON.parse(session).access_token) {\n                // Redirect to /participate if no session\n                setIsSessionExpired(true); // Optional: Set the session expired state to trigger the countdown\n                router.push('/participate');  // Redirect user to participate to log in\n            } else {\n                setIsSessionExpired(false); // Reset session expired state\n            }\n        }\n    }, [router.pathname, setIsSessionExpired]);\n\n    // Show session expired page if the session has expired and user is not on the /participate page\n    if (isSessionExpired && router.pathname !== '/participate') {\n        return <SessionExpired isSessionExpired={isSessionExpired} />;\n    }\n\n    return (\n        <div className={mode === 'dark' ? 'dark' : ''}>\n            <Component {...pageProps} mode={mode} />\n        </div>\n    );\n};\n\nexport default MyApp;\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AAIA,SAAS,MAAM,EAAE,SAAS,EAAE,SAAS,EAAE;IACnC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IACzD,MAAM,SAAS,CAAA,GAAA,uHAAA,CAAA,YAAS,AAAD;IAEvB,mDAAmD;IACnD,CAAA,GAAA,mGAAA,CAAA,YAAS,AAAD,EAAE;QACN,MAAM,YAAY,aAAa,OAAO,CAAC;QACvC,IAAI,WAAW;YACX,QAAQ;QACZ,OAAO;YACH,MAAM,aAAa,OAAO,UAAU,CAAC,gCAAgC,OAAO,GAAG,SAAS;YACxF,QAAQ;QACZ;QAEA,MAAM,aAAa,OAAO,UAAU,CAAC;QACrC,MAAM,eAAe,CAAC;YAClB,IAAI,cAAc,UAAU;gBACxB,QAAQ,EAAE,OAAO,GAAG,SAAS;YACjC;QACJ;QACA,WAAW,gBAAgB,CAAC,UAAU;QAEtC,OAAO;YACH,WAAW,mBAAmB,CAAC,UAAU;QAC7C;IACJ,GAAG,EAAE;IAEL,qBACI,qKAAC,sHAAA,CAAA,eAAY;;0BACT,qKAAC;gBACG,MAAM;gBACN,kBAAkB;gBAClB,qBAAqB;gBACrB,QAAQ;gBACR,WAAW;gBACX,WAAW;;;;;;0BAEf,qKAAC,kIAAA,CAAA,iBAAc;gBAAC,UAAS;;;;;;;;;;;;AAGrC;AAEA,MAAM,gBAAgB,CAAC,EAAE,IAAI,EAAE,gBAAgB,EAAE,mBAAmB,EAAE,MAAM,EAAE,SAAS,EAAE,SAAS,EAAE;IAChG,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,sHAAA,CAAA,UAAO,AAAD,KAAK,2BAA2B;IAEjF,CAAA,GAAA,mGAAA,CAAA,YAAS,AAAD,EAAE;QACN,MAAM,UAAU,aAAa,OAAO,CAAC;QAErC,6BAA6B;QAC7B,IAAI,SAAS;YACT,MAAM,gBAAgB,KAAK,KAAK,CAAC;YACjC,SAAS,cAAc,YAAY,GAAI,gCAAgC;YACvE,QAAQ,cAAc,IAAI,GAAI,sBAAsB;QACxD;IACJ,GAAG;QAAC;QAAU;KAAQ;IAEtB,CAAA,GAAA,mGAAA,CAAA,YAAS,AAAD,EAAE;QACN,MAAM,gBAAgB;YAAC;YAAK;YAAgB;SAAgB;QAE5D,sDAAsD;QACtD,IAAI,CAAC,cAAc,QAAQ,CAAC,OAAO,QAAQ,GAAG;YAC1C,MAAM,UAAU,aAAa,OAAO,CAAC;YAErC,IAAI,CAAC,WAAW,CAAC,KAAK,KAAK,CAAC,SAAS,YAAY,EAAE;gBAC/C,yCAAyC;gBACzC,oBAAoB,OAAO,mEAAmE;gBAC9F,OAAO,IAAI,CAAC,iBAAkB,yCAAyC;YAC3E,OAAO;gBACH,oBAAoB,QAAQ,8BAA8B;YAC9D;QACJ;IACJ,GAAG;QAAC,OAAO,QAAQ;QAAE;KAAoB;IAEzC,gGAAgG;IAChG,IAAI,oBAAoB,OAAO,QAAQ,KAAK,gBAAgB;QACxD,qBAAO,qKAAC,4HAAA,CAAA,UAAc;YAAC,kBAAkB;;;;;;IAC7C;IAEA,qBACI,qKAAC;QAAI,WAAW,SAAS,SAAS,SAAS;kBACvC,cAAA,qKAAC;YAAW,GAAG,SAAS;YAAE,MAAM;;;;;;;;;;;AAG5C;uCAEe"}},
    {"offset": {"line": 339, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 346, "column": 0}, "map": {"version":3,"sources":["file:///Users/Apple/Documents/Projects/Clients/GCC%20Internal%20Tools/gcg-interview-evaluation/src/pages/index.js"],"sourcesContent":["import {useState, useEffect} from 'react';\nimport {toast} from 'react-toastify';\nimport Image from 'next/image'; // Import Next.js Image component\nimport Link from \"next/link\";\n\n\nexport default function Home() {\n\n    return (\n        <div className={`flex flex-col h-screen `}>\n\n            <div className=\"flex flex-1 transition-all duration-300\">\n\n\n                <main\n                    className={`flex-1 transition-all duration-300 w-full `}>\n\n                    <div className=\"bg-[#f7f1eb] px-10 md:px-40 z-40 relative\">\n                        <div className=\"grid grid-cols-1 md:grid-cols-[2fr_1fr] gap-4\">\n                            <div className=\"flex flex-col justify-center\">\n                                <h2 className=\"text-4xl sm:text-5xl md:text-6xl font-extrabold text-teal-600 mb-4\">\n                                    Earn Points<br/>Win Big<br/>Join the Challenge!\n                                </h2>\n                                <p className=\"text-xl sm:text-2xl\">Welcome to the Credit Bank Challenge â€“ where every\n                                    action brings you closer to amazing rewards!</p>\n\n                                <div className=\"inline-flex pt-6 gap-x-4\">\n                                    <Link href=\"/participate\">\n                                        <button\n                                            className=\"bg-[#ff930a] hover:bg-gray-400 text-white font-bold py-2 px-4 rounded-lg\">\n                                            Get Started\n                                        </button>\n                                    </Link>\n\n                                    <Link href=\"#about-the-campaign\">\n                                        <button\n                                            className=\"bg-[#212529] hover:bg-gray-400 text-white font-bold py-2 px-4 rounded-lg\">\n                                            Learn More\n                                        </button>\n                                    </Link>\n                                </div>\n                            </div>\n\n                            <div className=\"flex justify-center\">\n                                <Image src=\"/assets/images/hero.png\" width={400} height={100} alt=\"hero-img\"/>\n                            </div>\n                        </div>\n                    </div>\n\n                </main>\n\n\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA,8MAAgC,iCAAiC;AACjE;;;;;;;;;;AAGe,SAAS;IAEpB,qBACI,qKAAC;QAAI,WAAW,CAAC,uBAAuB,CAAC;kBAErC,cAAA,qKAAC;YAAI,WAAU;sBAGX,cAAA,qKAAC;gBACG,WAAW,CAAC,0CAA0C,CAAC;0BAEvD,cAAA,qKAAC;oBAAI,WAAU;8BACX,cAAA,qKAAC;wBAAI,WAAU;;0CACX,qKAAC;gCAAI,WAAU;;kDACX,qKAAC;wCAAG,WAAU;;4CAAqE;0DACpE,qKAAC;;;;;4CAAI;0DAAO,qKAAC;;;;;4CAAI;;;;;;;kDAEhC,qKAAC;wCAAE,WAAU;kDAAsB;;;;;;kDAGnC,qKAAC;wCAAI,WAAU;;0DACX,qKAAC,qHAAA,CAAA,UAAI;gDAAC,MAAK;0DACP,cAAA,qKAAC;oDACG,WAAU;8DAA2E;;;;;;;;;;;0DAK7F,qKAAC,qHAAA,CAAA,UAAI;gDAAC,MAAK;0DACP,cAAA,qKAAC;oDACG,WAAU;8DAA2E;;;;;;;;;;;;;;;;;;;;;;;0CAOrG,qKAAC;gCAAI,WAAU;0CACX,cAAA,qKAAC,sHAAA,CAAA,UAAK;oCAAC,KAAI;oCAA0B,OAAO;oCAAK,QAAQ;oCAAK,KAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWlG"}},
    {"offset": {"line": 498, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}